<?xml version='1.0'?>
<odoo>

    <record id="outbound_report_search_view" model="ir.ui.view">
        <field name="name">outbound.report.search.view</field>
        <field name="model">outbound.final</field>
        <field name="arch" type="xml">
            <search string="OutboundReportSearch">
                <filter string="日期从" name="LFADT" domain="[('LFADT','>=',self)]"/>
                <filter string="日期到" name="LFADT" domain="[('LFADT','<=',self)]"/>
                <filter string="工厂" name="werks"/>
                <filter string="事业部" name="vkorgtext"/>
                <filter string="分销渠道" name="vtweg"/>
                <filter string="导购员" name="ywy"/>
                <filter string="门店" name="kunnr" domain="[('kunnr','ilike',self)]"/>
            </search>
        </field>
    </record>

    <record id="outbound_report_graph_view" model="ir.ui.view">
        <field name="name">outbound.report.graph.view</field>
        <field name="model">outbound.final</field>
        <field name="arch" type="xml">
            <graph string="OutboundReport">
                <field name="jiesuanjine" type="row"/>
                <field name="xiaoshoujine" type="row"/>
                <field name="LFADT" interval="month" type="row"/>
            </graph>
        </field>
    </record>

    <record id="outbound_report_view_cohort" model="ir.ui.view">
        <field name="name">outbound.view.cohort</field>
        <field name="model">outbound.final</field>
        <field name="arch" type="xml">
            <cohort string="Opportunities" date_start="LFADT" date_stop="LFADT" interval="week" mode="churn"/>
        </field>
    </record>

    <record id="outbound_report_dashboard_view" model="ir.ui.view">
        <field name="name">outbound.report.dashboard.view</field>
        <field name="model">outbound.final</field>
        <field name="mode">primary</field>
        <field name="search_view_id" ref="outbound_report.outbound_report_search_view"/>
        <field name="arch" type="xml">
            <dashboard>
                <view type="graph" ref="outbound_report_graph_view"/>
                <group>
                    <group col="1">
<!--                        <widget name="pie_chart" title="Win/Loss Ratio" attrs="{'groupby': 'won_status', 'domain': '[\'|\', (\'active\', \'=\', False), (\'active\', \'=\', True), (\'won_status\', \'!=\', \'pending\')]'}"/>-->
<!--                        <widget name="pie_chart" title="Medium" attrs="{'groupby': 'vtweg'}"/>-->
<!--                        <widget name="pie_chart" title="分销渠道" attrs="{'groupby': 'vtweg'}"/>-->
                    </group>
                </group>
                <view type="cohort" ref="outbound_report_view_cohort"/>
            </dashboard>
        </field>
    </record>

    <act_window id="outbound_report_action"
        name="出库报表"
        res_model="outbound.final"
        view_mode = "dashboard"
        view_id = "outbound_report_dashboard_view"
        limit = "200"
    />

    <menuitem id="outbound_report_menu"
        parent="crm.crm_menu_report"
        action="outbound_report_action"
        sequence="16"
    />
</odoo>